import{a as _,b as y,c as w,d as T,e as W,f as X}from"./chunk-R3MV6BHO.js";import{$ as p,Da as v,E as n,Ga as S,H as b,Jb as O,Ka as C,Kb as q,L as h,Lb as G,Mb as D,Nb as R,Ob as V,P as M,Pa as x,Qb as j,Rb as A,S as l,Sb as H,T as t,Tb as z,U as r,V as d,Wb as J,Xb as K,Yb as Q,Zb as U,ac as Y,bc as Z,ib as P,kb as c,la as o,ma as u,mb as F,nb as E,pb as g,qb as L,r as s,sb as I,tb as k,ub as N,vb as B}from"./chunk-IFSFDJGW.js";function ee(a,i){a&1&&d(0,"mat-spinner",13)}function te(a,i){a&1&&(t(0,"span"),o(1,"Se connecter"),r())}var $=class a{fb=s(N);authService=s(x);router=s(C);snackBar=s(T);loginForm=this.fb.group({email:new g("",[c.required,c.email]),password:new g("",[c.required])});isLoading=!1;hidePassword=!0;get emailErrors(){let i=this.loginForm.get("email");if(i?.errors&&i.touched){if(i.errors.required)return"L'email est requis";if(i.errors.email)return"Format d'email invalide"}return null}get passwordErrors(){let i=this.loginForm.get("password");return i?.errors&&i.touched&&i.errors.required?"Le mot de passe est requis":null}onSubmit(){if(this.loginForm.valid&&!this.isLoading){this.isLoading=!0;let{email:i,password:m}=this.loginForm.value;try{this.authService.login(i,m),this.snackBar.open("Connexion r\xE9ussie","Fermer",{duration:5e3,panelClass:["success-snackbar"]}),this.router.navigate([""])}catch(e){this.isLoading=!1,this.snackBar.open(e instanceof Error?e.message:"Erreur lors de la connexion","Fermer",{duration:5e3,panelClass:["error-snackbar"]})}}}navigateToRegister(){this.router.navigate(["/register"])}static \u0275fac=function(m){return new(m||a)};static \u0275cmp=b({type:a,selectors:[["app-login-page"]],decls:35,vars:10,consts:[[1,"login-container"],[1,"login-card"],[1,"login-form",3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","type","email","formControlName","email","placeholder","votre@email.com","autocomplete","email"],["matSuffix",""],["matInput","","formControlName","password","placeholder","Votre mot de passe","autocomplete","current-password",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["mat-raised-button","","color","primary","type","submit",1,"full-width","submit-button",3,"disabled"],["diameter","20",4,"ngIf"],[4,"ngIf"],[2,"display","flex","flex","1","justify-content","center","align-items","center"],["mat-button","","color","accent",3,"click"],["diameter","20"]],template:function(m,e){m&1&&(t(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),o(4,"Connexion"),r(),t(5,"mat-card-subtitle"),o(6,"Connecte-toi \xE0 CookingBuddy"),r()(),t(7,"mat-card-content")(8,"form",2),p("ngSubmit",function(){return e.onSubmit()}),t(9,"mat-form-field",3)(10,"mat-label"),o(11,"Email"),r(),d(12,"input",4),t(13,"mat-icon",5),o(14,"email"),r(),t(15,"mat-error"),o(16),r()(),t(17,"mat-form-field",3)(18,"mat-label"),o(19,"Mot de passe"),r(),d(20,"input",6),t(21,"button",7),p("click",function(){return e.hidePassword=!e.hidePassword}),t(22,"mat-icon"),o(23),r()(),t(24,"mat-error"),o(25),r()(),t(26,"button",8),h(27,ee,1,0,"mat-spinner",9)(28,te,2,0,"span",10),r()()(),t(29,"mat-card-actions")(30,"div",11)(31,"p"),o(32,"Pas encore de compte ?"),r(),t(33,"button",12),p("click",function(){return e.navigateToRegister()}),o(34," S'inscrire "),r()()()()()),m&2&&(n(8),l("formGroup",e.loginForm),n(8),u(e.emailErrors),n(4),l("type",e.hidePassword?"password":"text"),n(),M("aria-label","Hide password")("aria-pressed",e.hidePassword),n(2),u(e.hidePassword?"visibility_off":"visibility"),n(2),u(e.passwordErrors),n(),l("disabled",e.loginForm.invalid||e.isLoading),n(),l("ngIf",e.isLoading),n(),l("ngIf",!e.isLoading))},dependencies:[S,v,B,L,P,F,E,I,k,j,O,R,G,V,D,q,K,J,A,H,z,Z,Y,w,y,_,U,Q,X,W],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;padding:20px;background:linear-gradient(135deg,#667eea,#764ba2)}.login-card[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:20px;box-shadow:0 8px 25px #00000026;border-radius:12px}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;margin-top:20px}.full-width[_ngcontent-%COMP%]{width:100%}.submit-button[_ngcontent-%COMP%]{height:48px;font-size:16px;margin-top:16px}.submit-button[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin-right:8px}"]})};export{$ as LoginPage};
